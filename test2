except requests.exceptions.ReadTimeout:
    # Don't break flow: show a recoverable error and wait for next user input
    state["ai_response"] = getattr(settings, "TIMEOUT_ERROR_MESSAGE", "Request timed out. Please try again.")
    state["ai_response_type"] = "AURA"
    state["ai_response_code"] = 500
    state["prompt_title"] = ""
    state["prompts"] = []
    state["stage"] = "ERROR"
    return state
